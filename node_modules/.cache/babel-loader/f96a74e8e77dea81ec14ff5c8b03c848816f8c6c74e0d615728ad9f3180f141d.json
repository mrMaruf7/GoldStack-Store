{"ast":null,"code":"import _slicedToArray from\"H:/Project/GoldStack_Store/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{register}from'../actions/userActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterScreen(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var redirect=props.location.search?props.location.search.split('=')[1]:'/';var userRegister=useSelector(function(state){return state.userRegister;});var userInfo=userRegister.userInfo,loading=userRegister.loading,error=userRegister.error;var dispatch=useDispatch();var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmPassword){alert('Password and confirm password are not match');}else{dispatch(register(name,email,password));}};useEffect(function(){if(userInfo){props.history.push(redirect);}},[props.history,redirect,userInfo]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"})}),loading&&/*#__PURE__*/_jsx(LoadingBox,{}),error&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",placeholder:\"Enter name\",required:true,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",placeholder:\"Enter email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Enter password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",placeholder:\"Enter confirm password\",required:true,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"primary\",type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/signin?redirect=\".concat(redirect),children:\"Sign-In\"})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Link","register","LoadingBox","MessageBox","jsx","_jsx","jsxs","_jsxs","RegisterScreen","props","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","confirmPassword","setConfirmPassword","redirect","location","search","split","userRegister","state","userInfo","loading","error","dispatch","submitHandler","e","preventDefault","alert","history","push","children","className","onSubmit","variant","htmlFor","type","id","placeholder","required","onChange","target","value","to","concat"],"sources":["H:/Project/GoldStack_Store/frontend/src/screens/RegisterScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { register } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function RegisterScreen(props) {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n  const redirect = props.location.search\r\n    ? props.location.search.split('=')[1]\r\n    : '/';\r\n\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  const { userInfo, loading, error } = userRegister;\r\n\r\n  const dispatch = useDispatch();\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      alert('Password and confirm password are not match');\r\n    } else {\r\n      dispatch(register(name, email, password));\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n  }, [props.history, redirect, userInfo]);\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Create Account</h1>\r\n        </div>\r\n        {loading && <LoadingBox></LoadingBox>}\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n        <div>\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            placeholder=\"Enter name\"\r\n            required\r\n            onChange={(e) => setName(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"email\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Enter email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"confirmPassword\"\r\n            placeholder=\"Enter confirm password\"\r\n            required\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Register\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <div>\r\n            Already have an account?{' '}\r\n            <Link to={`/signin?redirect=${redirect}`}>Sign-In</Link>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}