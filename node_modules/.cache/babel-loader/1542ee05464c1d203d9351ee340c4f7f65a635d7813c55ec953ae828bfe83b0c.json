{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{deleteUser,listUsers}from'../actions/userActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{USER_DETAILS_RESET}from'../constants/userConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserListScreen(props){var userList=useSelector(function(state){return state.userList;});var loading=userList.loading,error=userList.error,users=userList.users;var userDelete=useSelector(function(state){return state.userDelete;});var loadingDelete=userDelete.loading,errorDelete=userDelete.error,successDelete=userDelete.success;var dispatch=useDispatch();useEffect(function(){dispatch(listUsers());dispatch({type:USER_DETAILS_RESET});},[dispatch,successDelete]);var deleteHandler=function deleteHandler(user){if(window.confirm('Are you sure?')){dispatch(deleteUser(user._id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),successDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"success\",children:\"User Deleted Successfully\"}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"IS SELLER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"IS ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isSeller?'YES':' NO'}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?'YES':'NO'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/user/\".concat(user._id,\"/edit\"));},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(user);},children:\"Delete\"})]})]},user._id);})})]})]});}","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","deleteUser","listUsers","LoadingBox","MessageBox","USER_DETAILS_RESET","jsx","_jsx","jsxs","_jsxs","UserListScreen","props","userList","state","loading","error","users","userDelete","loadingDelete","errorDelete","successDelete","success","dispatch","type","deleteHandler","user","window","confirm","_id","children","variant","className","map","name","email","isSeller","isAdmin","onClick","history","push","concat"],"sources":["H:/Project/GoldStack_Store/frontend/src/screens/UserListScreen.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteUser, listUsers } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { USER_DETAILS_RESET } from '../constants/userConstants';\r\n\r\nexport default function UserListScreen(props) {\r\n  const userList = useSelector((state) => state.userList);\r\n  const { loading, error, users } = userList;\r\n\r\n  const userDelete = useSelector((state) => state.userDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = userDelete\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listUsers());\r\n    dispatch({\r\n        type: USER_DETAILS_RESET,\r\n      });\r\n  }, [dispatch, successDelete]);\r\n  const deleteHandler = (user) => {\r\n    if (window.confirm('Are you sure?')) {\r\n      dispatch(deleteUser(user._id));\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Users</h1>\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n      {successDelete && (\r\n        <MessageBox variant=\"success\">User Deleted Successfully</MessageBox>\r\n      )}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>NAME</th>\r\n              <th>EMAIL</th>\r\n              <th>IS SELLER</th>\r\n              <th>IS ADMIN</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user) => (\r\n              <tr key={user._id}>\r\n                <td>{user._id}</td>\r\n                <td>{user.name}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.isSeller ? 'YES' : ' NO'}</td>\r\n                <td>{user.isAdmin ? 'YES' : 'NO'}</td>\r\n                <td>\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => props.history.push(`/user/${user._id}/edit`)}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => deleteHandler(user)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}